{% extends "base.html" %} 
{% load static %}
{% load widget_tweaks %}   
{% block content %}
<div class="content">
    	<div class="">
						<div class="card">
							<div class="card-body">
								<div class="border-bottom mb-3 pb-3">
									<h4>Details</h4>
								</div>
								<form method="POST" enctype="multipart/form-data">
									{% csrf_token %}
									<div class="border-bottom mb-3">
										
										<div class="row">
											
											<div class="col-md-4">
												<div class="row align-items-center mb-3">
													<div class="col-md-4">
														<label class="form-label mb-md-0">From Project</label>
													</div>
													<div class="col-md-8">
														{% render_field form.project  class="select"   %}
													</div>
												</div>
											</div>
												<div class="col-md-4">
												<div class="row align-items-center mb-3">
													<div class="col-md-4">
														<label class="form-label mb-md-0">To Project</label>
													</div>
													<div class="col-md-8">
														{% render_field form.to_project  class="select"   %}
													</div>
												</div>
											</div>
												<div class="col-md-4">
												<div class="row align-items-center mb-3">
													<div class="col-md-4">
														<label class="form-label mb-md-0">Vehicle Type</label>
													</div>
													<div class="col-md-8">
														{% render_field form.vehicle  class="select"   %}
													</div>
												</div>
											</div>
												<div class="col-md-4">
												<div class="row align-items-center mb-3">
													<div class="col-md-4">
														<label class="form-label mb-md-0">Material</label>
													</div>
													<div class="col-md-8">
														{% render_field form.Material_name  class="select"   %}
													</div>
												</div>
											</div>
											
										
										
                                            <div class="col-md-5">
												<div class="row align-items-center mb-3">
													<div class="col-md-4">
														<label class="form-label mb-md-0">Photo</label>
													</div>
													<div class="col-md-8">
														{% render_field form.image class="form-control image-sign" accept="image/*" capture="user" %}
													</div>
												</div>
											</div>
                                         
											
										</div>
									</div>
                                          {% render_field form.lat  id="lat" type="hidden" placeholder="Your Role"  %}
                                         {% render_field form.lon  id="lon" type="hidden" placeholder="Your Role"  %}
									<div class="d-flex align-items-center justify-content-end">
										<button class="btn btn-primary btn-lg" id="btn-submit" type="submit" disabled>
										<span class="spinner-border spinner-border-sm align-middle" role="status"
											aria-hidden="true"></span>
										Loading...
									</button>
									</div>
								</form>
							</div>
						</div>
					</div>
  
</div >
 <script>
    // JavaScript code will go here
 

    window.onload = function() {
      if ("geolocation" in navigator) {
        navigator.geolocation.getCurrentPosition(showGPSLocation);
      } else {
        gonative.android.geoLocation.promptLocationServices()
      }
    };

    function showGPSLocation(position) {
      var latitude = position.coords.latitude;
      var longitude = position.coords.longitude; 
      
      document.getElementById("lat").value=latitude   
      document.getElementById("lon").value=longitude   
      let btn=document.getElementById("btn-submit")
      btn.innerHTML="Submit"   
      btn.innerHTML="Submit"   
      btn.disabled=false

    }
  </script>
{% endblock content %}
